# 과제 전략 세우기

- 사용하지 않는 코드 제거
  - 사용하지 않는 코드를 제거해 읽어야 하는 코드의 양을 줄인다.
  - 불필요한 코드를 분석할 필요가 없어짐
    > 안 쓰는 코드인줄 알았는데 사용해야 하는 코드임 다시 복구..

- UI 분리하기
  - UI 는 components 라는 폴더 하위에 작성한다.
  - UI 는 템플릿 리터럴로 작성한다.

## 문제점 적기

### var

- 호이스팅, 함수 스코프, 재할당 가능, 중복 선언 가능한 특성이 있다. 이런 특성 때문에 변수의 사용 범위를 예측하기 어려움
- const, let 으로 대체해야함

```js
// 예) root 중복 선언
function main() {
  var root; // 16L
  ...
  var root = document.getElementById('app') // 44L
```

### 선언과 사용이 멀리 떨어진 경우

코드를 파악할 때 해당 변수가 어떤 목적으로 선언 되었고, 어떻게 쓰이는지 읽기 어렵다.

```js
// 예) root 의 변수 선언과 사용이 멀리 떨어짐
function main() {
  // root 가 왜 선언되었는지 파악하기 위해 스크롤을 한참 내려야함
  var root = document.getElementById('app') // 44L
  ...
  root.appendChild(header); // 197L
  root.appendChild(gridContainer);
  root.appendChild(manualToggle);
  root.appendChild(manualOverlay);
```

```js
//
gridContainer = document.createElement('div'); // gridContainer
leftColumn = document.createElement('div');
leftColumn['className'] = 'bg-white border border-gray-200 p-8 overflow-y-auto';
selectorContainer = document.createElement('div');
selectorContainer.className = 'mb-6 pb-6 border-b border-gray-200';
gridContainer.className =
  'grid grid-cols-1 lg:grid-cols-[1fr_360px] gap-6 flex-1 overflow-hidden'; // gridContainer
```

### 명령형으로 작성된 UI

- UI 구조를 파악하기 어렵다.

### 변수를 사용하는 문자열 템플릿 리터럴로 변환하기

- 연사자를 통해 분리되어 보이던 코드가 템플릿 리터럴을 사용하면 하나의 문장처럼 읽힌다.

```js
opt.textContent = item.name + ' - ' + item.val + '원 (품절)' + discountText;
opt.textContent =
  '⚡💝' +
  item.name +
  ' - ' +
  item.originalVal +
  '원 → ' +
  item.val +
  '원 (25% SUPER SALE!)';
```

```js
opt.textContent = `${item.name} - ${item.val}원 (품절)${discountText}`;
opt.textContent = `⚡💝${item.name} - ${item.originalVal}원 → ${item.val}원 (25% SUPER SALE!)`;
```

### 필요 없는 변수 사용

```js
if (item.onSale && item.suggestSale) {
  ...
} else if (item.onSale) {
  ...
} else if (item.suggestSale) {
  ...
} else {
  // 할인이 없는 경우인데, 할인에 대한 discountText 를 붙이고 있음
  opt.textContent = item.name + ' - ' + item.val + '원' + discountText;
}
```
